// merge_csv_content.cjs
// Merges CSV content blocks into landing_pages.json

const fs = require('fs');
const path = require('path');

// CSV data parsed from the provided input
const csvData = [
    { slug: "", block_1_content: "Sanper ist kein Anbieter fÃ¼r StandardlÃ¶sungen. Wir arbeiten fÃ¼r Menschen, die ihren AuÃŸenbereich langfristig nutzen wollen und deshalb mehr brauchen als ein Produkt von der Stange. Der entscheidende Unterschied liegt in der Verantwortung: Planung, Fertigung und Montage mÃ¼ssen zusammenpassen. Bei Sanper sind MaÃŸe, Statik, Material und Befestigung vorab abgestimmt â€“ nicht erst auf der Baustelle. Diese Seite hilft Ihnen zu prÃ¼fen, ob ein individuell geplantes System fÃ¼r Ihr Projekt sinnvoll ist, bevor Sie Angebote vergleichen.", block_2_content: "Viele Probleme entstehen nach dem Kauf: unklare ZustÃ¤ndigkeiten, VerzÃ¶gerungen, fehlende Ersatzteile oder Monteure ohne Systemkenntnis. Diese Risiken sind bei Outdoor-Systemen besonders relevant. Sanper reduziert sie durch klare Verantwortlichkeit, abgestimmte Prozesse und planbaren Service. Wenn Sie eine kurzfristige LÃ¶sung suchen, gibt es einfachere Wege. Wenn Sie Wert auf Haltbarkeit und Sicherheit legen, sind Sie hier richtig.", block_1_placement: "after_intro", block_2_placement: "before_trust", cta_primary_text: "Beratung starten", cta_secondary_text: "Kostenloses Angebot", faq_theme: "allgemein", faq_unique_q_count: 5 },
    { slug: "pergola-systeme", block_1_content: "Ein Pergola-System ist keine Einzelanschaffung, sondern eine Entscheidung Ã¼ber Nutzung, Erweiterbarkeit und Lebensdauer. Entscheidend ist, ob Dach, EntwÃ¤sserung, Beschattung und Steuerung als Einheit gedacht sind. Systeme, die von Anfang an modular geplant werden, lassen sich an neue Anforderungen anpassen, ohne neu bauen zu mÃ¼ssen. Diese Seite hilft zu klÃ¤ren, ob ein durchgÃ¤ngiges System fÃ¼r Ihre Nutzung sinnvoller ist als eine einzelne LÃ¶sung.", block_2_content: "Risiken entstehen, wenn Komponenten nicht zusammenpassen: spÃ¤tere NachrÃ¼stungen, Undichtigkeiten oder eingeschrÃ¤nkte Erweiterungen. Wer das Systemdenken ignoriert, zahlt langfristig doppelt. Eine frÃ¼he Systementscheidung verhindert diese Folgekosten.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "System prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "system", faq_unique_q_count: 5 },
    { slug: "pergola-systeme/bioklimatisch", block_1_content: "Bioklimatische Systeme sind sinnvoll, wenn Hitze, Luftstau und wechselnde Wetterbedingungen die Nutzung einschrÃ¤nken. Die verstellbaren Lamellen regulieren Licht und Luft aktiv und schaffen ein nutzbares Mikroklima. Diese LÃ¶sung ist nicht fÃ¼r reine Beschattung gedacht, sondern fÃ¼r FlÃ¤chen, die regelmÃ¤ÃŸig genutzt werden.", block_2_content: "Risiken entstehen durch falsche Erwartungen an Steuerung und Automatik. Ohne korrekte Auslegung kann Hitze bleiben oder Regen nicht sauber abgefÃ¼hrt werden.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "Beratung prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "klima", faq_unique_q_count: 5 },
    { slug: "pergola-systeme/lamellendach", block_1_content: "Ein Lamellendach bietet Kontrolle Ã¼ber Licht, Luft und Regen. Im Vergleich zu Glas oder Stoff steht hier die flexible Nutzung im Vordergrund. Diese Seite hilft, die LÃ¶sung anhand des tatsÃ¤chlichen Nutzungsverhaltens zu bewerten â€“ nicht anhand von Optik allein.", block_2_content: "Grenzen bestehen bei maximaler LichtdurchlÃ¤ssigkeit oder vollstÃ¤ndiger Abdichtung. Wer Wintergarten-Eigenschaften erwartet, wÃ¤hlt die falsche LÃ¶sung.", block_1_placement: "after_features", block_2_placement: "before_faq", cta_primary_text: "LÃ¶sung vergleichen", cta_secondary_text: "â€”", faq_theme: "vergleich", faq_unique_q_count: 5 },
    { slug: "pergola-systeme/aluminium", block_1_content: "Aluminium eignet sich fÃ¼r Systeme, die formstabil, wartungsarm und langlebig sein sollen. Im Vergleich zu Holz oder Stahl verÃ¤ndert es sich kaum und benÃ¶tigt keine regelmÃ¤ÃŸige Pflege. Diese Seite hilft bei der Materialentscheidung anhand von Nutzung und Wartungsaufwand.", block_2_content: "Risiken liegen in falschen MaterialstÃ¤rken oder minderwertigen Profilen. Nicht jedes Aluminium erfÃ¼llt die gleichen Anforderungen.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "Material bewerten", cta_secondary_text: "â€”", faq_theme: "material", faq_unique_q_count: 5 },
    { slug: "pergola-systeme/freistehend", block_1_content: "Freistehende Pergolen ermÃ¶glichen maximale Freiheit bei der Platzierung, etwa bei Pool- oder Gartenbereichen. Voraussetzung ist eine saubere statische Planung. Diese Seite hilft zu klÃ¤ren, wann freistehend technisch sinnvoll ist.", block_2_content: "HÃ¤ufige Risiken sind fehlende Fundamente oder unterschÃ¤tzte Windlasten. Ohne PrÃ¼fung drohen spÃ¤tere SchÃ¤den oder Genehmigungsprobleme.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "Machbarkeit klÃ¤ren", cta_secondary_text: "â€”", faq_theme: "statik", faq_unique_q_count: 5 },
    { slug: "pergola-systeme/terrasse", block_1_content: "TerrassenlÃ¶sungen mÃ¼ssen an GebÃ¤udeanschlÃ¼sse, GefÃ¤lle und Abdichtung angepasst werden. Diese Seite hilft zu prÃ¼fen, wie eine Pergola sinnvoll an das Haus angebunden wird, ohne Bausubstanz zu gefÃ¤hrden.", block_2_content: "Risiken entstehen durch falsche Befestigung oder mangelhafte Abdichtung. Das zeigt sich oft erst nach Monaten.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "Beratung anfragen", cta_secondary_text: "â€”", faq_theme: "anbau", faq_unique_q_count: 5 },
    { slug: "pergola-systeme/wintergarten-kombination", block_1_content: "Die Kombination aus Pergola und Glas kann sinnvoll sein, wenn flexible Nutzung gewÃ¼nscht ist. Entscheidend ist die klare Abgrenzung zwischen offenem und geschlossenem Bereich.", block_2_content: "Risiken liegen in Kondensatbildung und falscher BelÃ¼ftung, wenn Nutzung und Konstruktion nicht zusammenpassen.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "Projekt prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "hybrid", faq_unique_q_count: 5 },
    { slug: "pergola-systeme/montage", block_1_content: "Eine saubere Montage entscheidet Ã¼ber Funktion und Lebensdauer. Diese Seite erklÃ¤rt den Ablauf von Vorbereitung bis Einweisung und schafft Transparenz Ã¼ber Dauer und Koordination.", block_2_content: "Risiken entstehen durch Fremdmonteure oder fehlende Systemkenntnis. Das fÃ¼hrt zu Nacharbeiten und VerzÃ¶gerungen.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "Ablauf klÃ¤ren", cta_secondary_text: "â€”", faq_theme: "montage", faq_unique_q_count: 5 },
    { slug: "pergola-systeme/preise", block_1_content: "Preise ergeben sich aus MaÃŸen, Technik, Montage und ZubehÃ¶r. Diese Seite erklÃ¤rt, welche Faktoren den Preis beeinflussen, damit Angebote vergleichbar werden.", block_2_content: "Risiken bestehen bei Pauschalpreisen ohne Leistungsabgrenzung. NachtrÃ¤ge sind dann vorprogrammiert.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "Angebot anfordern", cta_secondary_text: "â€”", faq_theme: "preis", faq_unique_q_count: 5 },
    { slug: "wintergarten-systeme", block_1_content: "Wintergarten und Pergola unterscheiden sich grundlegend in Nutzung und Bauweise. Diese Seite hilft, die passende LÃ¶sung fÃ¼r Ganzjahres- oder Ãœbergangsnutzung zu wÃ¤hlen.", block_2_content: "Risiken entstehen durch falsche Erwartungen an DÃ¤mmung und Wintertauglichkeit.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "System prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "vergleich", faq_unique_q_count: 5 },
    { slug: "wintergarten-systeme/kaltwintergarten", block_1_content: "Ein Kaltwintergarten ist kosteneffizient fÃ¼r Ãœbergangszeiten. Diese Seite hilft zu prÃ¼fen, ob diese LÃ¶sung fÃ¼r Ihre Nutzung ausreicht.", block_2_content: "Risiken liegen bei Frost, fehlender Isolierung und eingeschrÃ¤nkter Nutzung im Winter.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "Beratung prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "winter", faq_unique_q_count: 5 },
    { slug: "wintergarten-systeme/glasschiebewand", block_1_content: "GlasschiebewÃ¤nde schaffen Wind- und Wetterschutz bei offener Nutzung. Diese Seite hilft zu entscheiden, wann sie sinnvoll ergÃ¤nzen.", block_2_content: "Risiken entstehen durch minderwertige Lauftechnik oder unzureichende Dichtigkeit.", block_1_placement: "after_features", block_2_placement: "before_faq", cta_primary_text: "LÃ¶sung bewerten", cta_secondary_text: "â€”", faq_theme: "glas", faq_unique_q_count: 5 },
    { slug: "wintergarten-systeme/montage", block_1_content: "Die Montage eines Wintergartens stellt andere Anforderungen als eine Pergola. Glas, AnschlÃ¼sse und Abdichtung mÃ¼ssen prÃ¤zise zusammenspielen. Diese Seite beschreibt, worauf es bei der Montage ankommt, damit Funktion und Sicherheit langfristig gewÃ¤hrleistet bleiben.", block_2_content: "Risiken entstehen durch unsachgemÃ¤ÃŸes Glas-Handling, fehlerhafte AnschlÃ¼sse oder fehlende Erfahrung. Das fÃ¼hrt zu Undichtigkeiten oder SchÃ¤den an der Bausubstanz.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "Ablauf klÃ¤ren", cta_secondary_text: "â€”", faq_theme: "montage", faq_unique_q_count: 5 },
    { slug: "wintergarten-systeme/polen-preise", block_1_content: "Importangebote wirken oft gÃ¼nstiger, unterscheiden sich aber deutlich bei GewÃ¤hrleistung und Service. Diese Seite hilft, Preise realistisch zu vergleichen und die langfristigen Konsequenzen zu bewerten.", block_2_content: "Risiken liegen bei fehlenden Ansprechpartnern, Ersatzteilen oder rechtlicher Durchsetzung im Schadensfall.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "Beratung anfragen", cta_secondary_text: "â€”", faq_theme: "import", faq_unique_q_count: 5 },
    { slug: "zip-screen-systeme", block_1_content: "Zip-Screen-Systeme sind fÃ¼r windstabile Beschattung und Sichtschutz konzipiert. Diese Seite hilft zu entscheiden, ob ein Screen-System besser passt als eine klassische Markise.", block_2_content: "Risiken entstehen, wenn Einsatzbereich und Windlast unterschÃ¤tzt werden. Nicht jedes System ist fÃ¼r jede Lage geeignet.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "System prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "screen", faq_unique_q_count: 5 },
    { slug: "zip-screen-systeme/senkrechtmarkise", block_1_content: "Senkrechtmarkisen eignen sich zur gezielten Verschattung von Fassaden und Terrassen. Diese Seite hilft, den Einsatz nach Sonnenstand und Sichtbedarf zu bewerten.", block_2_content: "Risiken bestehen bei unzureichender FÃ¼hrung oder falscher Montage, was zu GerÃ¤uschen und VerschleiÃŸ fÃ¼hrt.", block_1_placement: "after_features", block_2_placement: "before_faq", cta_primary_text: "LÃ¶sung bewerten", cta_secondary_text: "â€”", faq_theme: "markise", faq_unique_q_count: 5 },
    { slug: "zip-screen-systeme/terrasse", block_1_content: "FÃ¼r Terrassen schaffen Zip-Screens zusÃ¤tzlichen Wind- und Sichtschutz. Diese Seite zeigt, wann Seitenbeschattung den Aufenthaltskomfort deutlich erhÃ¶ht.", block_2_content: "Risiken entstehen durch falsche Befestigung oder fehlende Abstimmung mit bestehenden Konstruktionen.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "Projekt prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "terrasse", faq_unique_q_count: 5 },
    { slug: "zip-screen-systeme/wetterfest", block_1_content: "Wetterfest bedeutet widerstandsfÃ¤hig, aber nicht grenzenlos. Diese Seite hilft, realistische Erwartungen an Wind- und Regenschutz zu entwickeln.", block_2_content: "Risiken liegen im Einsatz auÃŸerhalb der vorgesehenen Belastungsgrenzen, was die Lebensdauer verkÃ¼rzt.", block_1_placement: "after_intro", block_2_placement: "before_faq", cta_primary_text: "Beratung prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "wetter", faq_unique_q_count: 5 },
    { slug: "ueber-uns", block_1_content: "Sanper arbeitet als Familienunternehmen mit klarer Verantwortung fÃ¼r Planung, Fertigung und Montage. Diese Seite gibt Einblick in Arbeitsweise und Entscheidungswege.", block_2_content: "Risiken bei anonymen Anbietern sind unklare ZustÃ¤ndigkeiten und wechselnde Ansprechpartner.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "GesprÃ¤ch vereinbaren", cta_secondary_text: "â€”", faq_theme: "unternehmen", faq_unique_q_count: 5 },
    { slug: "referenzen", block_1_content: "Referenzprojekte zeigen, wie Systeme in der Praxis genutzt werden. Diese Seite hilft, eigene Anforderungen mit realen Projekten abzugleichen.", block_2_content: "Risiken entstehen, wenn Referenzen nicht vergleichbar sind oder wichtige Details fehlen.", block_1_placement: "after_gallery", block_2_placement: "before_cta", cta_primary_text: "Projekt prÃ¼fen", cta_secondary_text: "â€”", faq_theme: "referenzen", faq_unique_q_count: 5 },
    { slug: "genehmigung", block_1_content: "Je nach Bauart und Standort kann eine Genehmigung erforderlich sein. Diese Seite hilft zu klÃ¤ren, wann das zutrifft und wie vorzugehen ist.", block_2_content: "Risiken bestehen bei verspÃ¤teter KlÃ¤rung, die Projekte verzÃ¶gern oder stoppen kann.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "Genehmigung klÃ¤ren", cta_secondary_text: "â€”", faq_theme: "recht", faq_unique_q_count: 5 },
    { slug: "wartung", block_1_content: "Wartung beeinflusst Lebensdauer und Funktion. Diese Seite hilft, den realen Wartungsaufwand richtig einzuschÃ¤tzen.", block_2_content: "Risiken entstehen, wenn Wartung unterschÃ¤tzt oder nicht eingeplant wird.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "Wartung bewerten", cta_secondary_text: "â€”", faq_theme: "wartung", faq_unique_q_count: 5 },
    { slug: "lieferzeit", block_1_content: "Lieferzeiten hÃ¤ngen von Planung, Fertigung und Montage ab. Diese Seite erklÃ¤rt die wichtigsten Einflussfaktoren.", block_2_content: "Risiken entstehen durch unrealistische Erwartungen oder fehlende Abstimmung im Projektablauf.", block_1_placement: "after_intro", block_2_placement: "before_cta", cta_primary_text: "Termin klÃ¤ren", cta_secondary_text: "â€”", faq_theme: "lieferung", faq_unique_q_count: 5 },
    { slug: "kontakt", block_1_content: "Der Kontakt dient der strukturierten KlÃ¤rung Ihres Projekts. Diese Seite beschreibt, wie der nÃ¤chste Schritt ablÃ¤uft und welche Informationen sinnvoll sind.", block_2_content: "Risiken entstehen, wenn Anforderungen unklar bleiben oder zu frÃ¼h Angebote eingeholt werden.", block_1_placement: "before_form", block_2_placement: "after_form", cta_primary_text: "RÃ¼ckruf anfordern", cta_secondary_text: "â€”", faq_theme: "kontakt", faq_unique_q_count: 3 }
];

// Load existing landing_pages.json
const jsonPath = path.join(__dirname, 'src', 'data', 'landing_pages.json');
const landingPages = JSON.parse(fs.readFileSync(jsonPath, 'utf8'));

// Create a map for quick lookup
const csvMap = new Map(csvData.map(row => [row.slug, row]));

// Merge CSV data into landing pages
let updatedCount = 0;
landingPages.forEach(page => {
    const csvRow = csvMap.get(page.slug);
    if (csvRow) {
        // Add new fields from CSV
        page.block_1_content = csvRow.block_1_content;
        page.block_2_content = csvRow.block_2_content;
        page.block_1_placement = csvRow.block_1_placement;
        page.block_2_placement = csvRow.block_2_placement;
        page.cta_primary_text = csvRow.cta_primary_text;
        page.cta_secondary_text = csvRow.cta_secondary_text;
        page.faq_theme = csvRow.faq_theme;
        page.faq_unique_q_count = csvRow.faq_unique_q_count;
        updatedCount++;
    }
});

// Write updated JSON
fs.writeFileSync(jsonPath, JSON.stringify(landingPages, null, 4), 'utf8');
console.log(`âœ… Updated ${updatedCount} pages with CSV content data`);
console.log(`ðŸ“„ Output: ${jsonPath}`);
